<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>addFreeboard</title>
<link rel="stylesheet" type="text/css"
	href="/css/freeboard/addFreeboard.css">
<script src="https://code.jquery.com/jquery-3.6.1.min.js"
	integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
	crossorigin="anonymous"></script>
<script src="/js/freeboard/addFreeboard.js"></script>
<script type="text/javascript">
	window.onload = function() {
		changeFile();
	};
</script>
</head>
<body>
	<div th:replace="fragments/common :: header"></div>
	<main>
		<div id="main-1">
			<select id="bname">
				<option th:value="free" th:selected="${#strings.equals(bname,'free')}">자유게시판</option>
				<option th:value="meal" th:selected="${#strings.equals(bname,'meal')}">식단공유게시판</option>
				<option th:value="beforafter" th:selected="${#strings.equals(bname,'beforafter')}">비포에프터게시판</option>
			</select>
			<input id="title" name="title">
		</div>
		<!--
		<div>
			<input id="author" type="text" name="author" th:value="${userid}"
				readonly>
		</div>
		-->
		<input id="fbnum" type="hidden">
		<div id="contentsDiv">
			<div id="contents" contentEditable="true"></div>
		</div>
		<div id="file_div">
			<div id="listAttach">
				<div th:id="'attach'+${attach.anum}" th:each="attach : ${listAttach}">
					<input type="checkbox" th:value="${attach.anum}">
					<span th:id="'anum'+${attach.anum}" th:text="${attach.anum}"></span>
					<span th:id="'aname'+${attach.anum}" th:text="${attach.aname}"></span>
					<span th:id="'asize'+${attach.anum}" th:text="${attach.asize}"></span>
				</div>
			</div>
			<div id="file_btn_div">
				<label id="file_upload_btn" for="files">파일 업로드</label>
				<button id="delete_file_btn" type="button" onclick="deleteFile();">파일 삭제</button>
				<button id="insert_img_btn" type="button" onclick="insertImg();" th:style="${#lists.isEmpty(listAttach)?'display:none':'display:block'}">이미지 넣기</button>
				<input id="files" type="file" onchange="uploadFiles();" multiple="multiple">
			</div>
		</div>
		<hr>
		<div id="freeboard_btn_div">
			<button id="goback_btn" type="button" th:onclick="'location.href=\''+@{/freeboard(bname=${bname})}+'\''">뒤로가기</button>
			<button id="add_freeboard_btn" type="button" onclick="addFreeboard();">게시</button>
		</div>
	</main>
</body>
</html>